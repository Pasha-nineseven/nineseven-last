<!DOCTYPE html>
<html lang="ru">
	<head>
		//= template/head.html
	</head>
	<body>
		<!--LAYOUT-->
		<div class="layout">
			//= template/header.html
			<main class="page-content workarea">
				<div class="container-fluid">
					<div class="page-title animated_el m-title">
						<div class="indent">
							<h1>
								Разработка интернет-гипермакета TTN.by
							</h1>
						</div>
					</div>
					<div class="p-case-top">
						<div class="indent">
							<div class="p-case-top__inner">
								<div class="p-case-top__icon animated_el m-bottom">
									<div class="p-case-top__logo">
										<img src="img/svg/ttn-logo.svg" alt="">
									</div>
									<a href="#" class="p-case-top__link" target="_blank">
										www.ttn.by
									</a>
								</div>
								<div class="p-case-top-info">
									<div class="p-case-top-info__item animated_el m-bottom">
										<div class="p-case-top-info__pre">
											Клиент
										</div>
										<div class="p-case-top-info__txt">
											Онлайн-гипермакет ttn.by входит в топ-10 крупнейших магазинов бытовой техники Беларуси. Используемый движок на базе платформы shop.by не устраивал с точки зрения масштабируемости.
										</div>
									</div>
									<div class="p-case-top-info__item animated_el m-bottom">
										<div class="p-case-top-info__pre">
											Задача
										</div>
										<div class="p-case-top-info__txt">
											Нужно было собрать движок, рассчитанный на 160 000 товаров, ежесуточную посещаемостью не менее 10 000 и с возможностями расширения под автоматизацию бизнесов.
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="incut m-fresh animated_el m-bottom">
						<div class="indent">
							<div class="incut__inner">
								Интернет-магазины — это особый тип интернет-сайтов. Чаще всего успешные интернет-магазины похожи друг на друга, так как это уже устоявшийся рынок и в целом база для правильного UX.
							</div>
						</div>
					</div>

					<div class="p-framework">
						<div class="indent">
							<div class="row">
								<div class="col-lg-6 plan-top__item animated_el m-bottom">
									<div class="platform-img">
										<img src="img/svg/n-yii.svg" alt="">
									</div>
									<p>
										Для этого проекта мы использовали фреймворк Yii — потому что хорошо его знаем и потому что он один из самых быстрых.
									</p>
									<p>
										Для частичной экономии времени, чтобы не собирать заново базовые вещи вроде Access control, хранение товаров, и административную панель мы подобрали собранный на Yii2 движок магазина. Выбор пал на платформу DotPlant.
									</p>
								</div>
								<div class="col-lg-6 plan-top__item animated_el m-bottom">
									<div class="platform-img">
										<img src="img/svg/n-bitrix.svg" alt="">
									</div>
									<p>
										Изначально клиент хотел использовать для сайта движок 1С-Битрикс. К счастью, нам удалось его отговорить. Пускай и не с первого раза.
									</p>
									<p>
										Была попытка запуска на движке Битрикс, но выяснилось, что на такие объемы товарного каталога он не рассчитан. Поэтому все касающееся каталога пришлось бы переписать, а это нивелировало все преимущества движка: обновления, модули, интеграции из коробки и магазин приложений.
									</p>
								</div>
							</div>
						</div>
					</div>

					<div class="p-architect">
						<div class="indent">
							<div class="row bl-top">
								<div class="col-lg-6 animated_el m-bottom">
									<h2>Планируем архитектуру проекта</h2>
								</div>
								<div class="col-lg-6 bl-top__txt animated_el m-bottom">
									<p>
										В основе бэкенда DotPlant, он написан на Yii2 с использованием БД MySQL. В архитектуру сразу нужно было закладывать множество импортов разного назначения.
									</p>
								</div>
							</div>
							<div class="p-architect-sqheme animated_el m-bottom">
								<a href="img/svg/ar-sqheme.svg" class="mobile-target" target="_blank">
									<img src="img/svg/ar-sqheme.svg" alt="">
								</a>
							</div>
							<div class="row">
								<div class="col-lg-6 p-architect-txt animated_el m-bottom">
									Особенностью реализации было использование поискового движка. Для обработки запросов Sphinx использует специальные индексные файлы, который создаёт из базы данных сайта. 
								</div>
								<div class="col-lg-6 p-architect-txt animated_el m-bottom">
									Для быстрой работы каталога мы создали на Sphinx специальный индекс для листинга каталога, который обновляется каждую ночь и по итогу позволяет за доли секунды получить список любой категории. Это работает намного быстрее чем стандартная отдача каталога через PHP и MySQL.
								</div>
							</div>
						</div>
					</div>

					<div class="peculiarities">
						<div class="indent">
							<div class="peculiarities__wrap">
								<div class="peculiarities__info animated_el m-bottom">
									<h3>
										Второй особенностью проекта была работа с фильтром. 
									</h3>
									<p>
										Для гипермакета крайне важно создать удобный подборщик, а это значит, что нужно было решить, как это всё будет управляться. Нужно было реализовать следующий функционал:
									</p>
									<ul>
										<li>По каким свойства фильтруем в принципе</li>
										<li>Какие свойства показываем сразу, какие скрываем в «дополнительно» и в каком порядке</li>
										<li>Какие значения списочных свойств показываем сразу, а какие прячем в «остальные варианты»</li>
										<li>На какие из значений списочных свойств делаем акцент в дизайне (выделение жирным)</li>
										<li>Как параметр должен выглядеть в фильтре: ползунок, поле ввода, селект, чекбоксы</li>
										<li>Возможность создания комбинированных списков: чекбоксы и поле ввода значения</li>
										<li>Задавать max-min для числовых характеристик</li>
										<li>Подсказки в фильтре для характеристик</li>
									</ul>
									<div class="peculiarities__add animated_el m-bottom">
										Данный функционал у DotPlant нас не устраивал, поэтому мы его переписали полностью. Данные параметры клиент настраивает CSV-выгрузкой, потому что работать с таким объёмом данных через админку было бы очень долго.
									</div>
								</div>
								<div class="peculiarities__img animated_el m-bottom">
									<img src="img/content/peculiarities.png" alt="">
								</div>
							</div>
						</div>
					</div>
					
					<div class="t-roadmap">
						<div class="indent">
							<div class="row bl-top">
								<div class="col-lg-6 animated_el m-bottom">
									<h2>Планируем дорожную карту</h2>
								</div>
								<div class="col-lg-6 bl-top__txt animated_el m-bottom">
									<p>
										Проект объемный, поэтому работа велась по гибкой методологии. В основе — разбивка на этапы, объёмом не более 100 часов. Первичный план содержал 10 этапов. Примерная разбивка этапов была такой:
									</p>
								</div>
							</div>
							<ol class="animated_el m-bottom">
								<li>Импорты каталогов со старого движка на новый</li>
								<li>Настройка поискового индекса для отображения каталога, остальные импорты</li>
								<li>Реализация отзывов, сравнение товаров</li>
								<li>Корзина, оформление заказов</li>
								<li>Личный кабинет</li>
								<li>Наполнение каталога, шлифовка работы с каталогом и фильтрами</li>
								<li>Выбор и доработка шаблонов</li>
							</ol>
							<div class="t-roadmap__add animated_el m-bottom">
								<p>
									Как вы могли заметить, дизайном мы занялись только на седьмом этапе 😳, спустя порядка 600 часов разработки.
								</p>
								<p>
									На практике спринт/этап выглядит так:
								</p>
							</div>
						</div>
					</div>
					<div class="t-roadmap-sprint animated_el m-bottom">
						<div class="indent">
							<div class="t-roadmap-sprint__img">
								<img src="img/content/sprint.png" alt="">
							</div>
						</div>
					</div>

					<div class="t-template">
						<div class="indent">
							<div class="row t-template__top">
								<div class="col-lg-6 animated_el m-bottom">
									<h2>Готовим шаблон</h2>
								</div>
								<div class="col-lg-6 t-template__txt animated_el m-bottom">
									<p>
										Мы не планировали разрабатывать уникальный дизайн, так как в этом нет особого смысла. Для проекта главное — грамотный UX, функционал, надежность и быстродействие. 
									</p>
									<p>
										Для экономии  мы использовали готовые html-шаблоны для гипермаркетов и отталкиваясь от них, делали доработки уже под нашу структуру и функционал командой дизайнера и верстальщика. В среднем нам удалось сэкономить на этом не меньше 200 часов.
									</p>
									<p>
										Шаблоны дорабатывали и отдавали на приёмку сразу в html.
									</p>
								</div>
							</div>
							<div class="t-template__img animated_el m-bottom">
								<img src="img/content/t-img-ttn1.jpg" alt="">
							</div>
						</div>
					</div>

					<div class="t-experience">
						<div class="indent">
							<div class="row t-template__top">
								<div class="col-lg-6 animated_el m-bottom">
									<h2>UX — формируем положительный опыт использования</h2>
									<div class="t-experience__users">
										<p>
											Пользователи оценили внимание:
										</p>
										<img src="img/content/t-img-ttn2.png" alt="">
									</div>
								</div>
								<div class="col-lg-6 t-template__txt animated_el m-bottom">
									<p>
										Шаблонами все вопросы не закрыть, поэтому некоторые вещи приходилось собирать с чистого листа.
									</p>
									<p>
										Оформление заказа одной страницей, сразу в корзине. Не нужно бегать по отдельным страницам.
									</p>
									<p>
										При том, что оформление заказа нельзя назвать урезанным:
									</p>
									<ul>
										<li>Промо-коды к корзине</li>
										<li>Дисконтная-карта</li>
										<li>Список самовывозов прямо на карте</li>
										<li>Удобное время доставки</li>
										<li>Различные типы оплаты</li>
									</ul>
								</div>
							</div>
							<div class="t-template__img animated_el m-bottom is-ready">
								<img src="img/content/t-img-ttn3.png" alt="">
							</div>
						</div>
					</div>

					<div class="t-template-item">
						<div class="indent">
							<div class="row t-template-item__wrap">
								<div class="col-lg-4 animated_el m-bottom">
									<p>
										Для работы с <strong>удобным временем доставки</strong> на бэкенде была реализована целая система возможности доставки магазином в определенные промежутки, которая отражают реальную загруженность компании с учетом региональности (ttn.by работает на всю Беларусь).
									</p>
								</div>
								<div class="col-lg-8 animated_el m-bottom">
									<img src="img/content/t-img-ttn4.jpg" alt="">
								</div>
							</div>
						</div>
					</div>

					<div class="t-template-search">
						<div class="indent">
							<div class="row t-template-item__wrap">
								<div class="col-lg-4 animated_el m-bottom">
									<h5>90% обращений с сайтом через поиск</h5>
									<p>
										Он должен быстро находить и сразу подсказывать, что искать или где.
									</p>
								</div>
								<div class="col-lg-8 animated_el m-bottom">
									<img src="img/content/t-img-ttn5.png" alt="">
								</div>
							</div>
						</div>
					</div>


					<div class="t-template-item">
						<div class="indent">
							<div class="row t-template-item__wrap">
								<div class="col-lg-4 animated_el m-bottom">
									<p>
										У клиента <strong>много отзывов</strong>, важно было их сохранить и перенести на новый сайт
									</p>
								</div>
								<div class="col-lg-8 animated_el m-bottom">
									<img src="img/content/t-img-ttn6.jpg" alt="">
								</div>
							</div>
						</div>
					</div>

					<div class="t-template-item-sm m-gr">
						<div class="indent">
							<div class="row t-template-item__justify">
								<div class="col-lg-5 t-template-in animated_el m-bottom">
									<p>
										Магазин помнит, что вы просматривали, если нужно что-то вспомнить, в личном кабинете есть история.
									</p>
									<img src="img/content/t-img-ttn7.png" alt="">
								</div>
								<div class="col-lg-6 t-template-in animated_el m-bottom">
									<p>
										Часто заказываете на разные адреса?
									</p>
									<p>
										Внесите в личном кабинете несколько адресов и выбирайте при заказе нужный.
									</p>
									<img src="img/content/t-img-ttn8.png" alt="">
								</div>
							</div>
						</div>
					</div>
					<div class="t-template-item-sm m-bl">
						<div class="indent">
							<div class="row t-template-item__justify">
								<div class="col-lg-5 t-template-in animated_el m-bottom">
									<p>
										Клиент ежемесячно делал выборки по популярным товарам и выгружал рейтинги, по которым мы формировали топ, который подсказывает, что пользуется спросом.
									</p>
									<img src="img/content/t-img-ttn9.png" alt="">
								</div>
								<div class="col-lg-6 t-template-in animated_el m-bottom">
									<p>
										Не просто сравнение, а сравнение с выделением побед. Для этого у клиента в админке есть специальная возможность для настройки «лучших» характеристик.
									</p>
									<img src="img/content/t-img-ttn10.png" alt="">
								</div>
							</div>
						</div>
					</div>

					<div class="t-template-item">
						<div class="indent">
							<div class="row t-template-item__wrap m-center">
								<div class="col-lg-8 animated_el m-bottom">
									<p>
										Для каждого раздела настраиваются свои ключевые характеристики для вывода их в листинге товаров.
									</p>
									<img src="img/content/t-img-ttn11.png" alt="">
								</div>
							</div>
						</div>
					</div>

					<div class="smart-filter ">
						<div class="indent">
							<div class="row bl-top">
								<div class="col-lg-6 animated_el m-bottom">
									<h2>Фильтруем по-умному</h2>
								</div>
								<div class="col-lg-6 bl-top__txt animated_el m-bottom">
									<h4>Главной фишкой нового сайта должен был стать фильтр</h4>
									<p>
										Клиент хотел, чтобы все значения товаров просчитывались наперед и показывались все возможное комбинации. При этом фильтр уже должен учитывать ранее выбранные значения. 
									</p>
								</div>
							</div>
							<div class="row bl-inner">
								<div class="col-lg-6 animated_el m-bottom">
									<h4>Путей решения данной задачи несколько:</h4>
									<p>
										Первый — это просчитать все возможные цифры заранее. Проблема в том, что комбинаций огромное множество, и считать это всё наперед заняло бы прилично процессорного времени.
									</p>
								</div>
								<div class="col-lg-6 animated_el m-bottom">
									<h4></h4>
									<p>
										Второй вариант, считать это динамически. То есть фактически при каждой загрузке страницы по каждому из доступных значений характеристик товара нужно было запустить поиск и посчитать количество найденных товаров. Но если это делать через MySQL и PHP, который не умеет работать в многопоточном режиме, то наши тесты показали, что один такой запрос на самую большую категорию ноутбуки, с 16 тысячами товаров, занимал 30-40 секунд
									</p>
									<p>
										Мы решили доработать архитектуру поиска данных значений:
									</p>
								</div>
							</div>
		
							<div class="b-filter-list animated_el m-bottom">
								<div class="b-filter-item">
									<div class="b-filter-in">
										Индекс каталога SphinxSearch
									</div>
								</div>
								<div class="b-filter-item">
									<div class="b-filter-in">
										NodeJS в многопоточном режиме получает из индекса результаты поисков  по каждому свойству фильтра
									</div>
								</div>
								<div class="b-filter-item">
									<div class="b-filter-in">
										Фронт сайта через JS подхватывает JSON-массив рассчитаных значенийи расставляет их в фильтре асинхронно к загрузке каталога
									</div>
								</div>
							</div>

							<div class="speed animated_el m-bottom">
								<div class="speed__item">
									<div class="speed__top">Скорость расчета на PHP</div>
									<div class="speed__count">40+ сек.</div>
								</div>
								<div class="speed__item">
									<div class="speed__top">Расчет на Sphinx+NodeJS</div>
									<div class="speed__count">до 1 сек.</div>
								</div>
							</div>
						</div>
					</div>


					<div class="t-template-item-sm m-gr m-b-padd m-marg">
						<div class="indent">
							<div class="row t-template-item__justify">
								<div class="col-lg-6 t-template-in animated_el m-bottom">
									<h3>Как итог, ttn.by который смог </h3>
									<div class="t-template-compare">
										<img src="img/content/t-img-ttn12.png" alt="">
										<div class="t-template-compare__txt">
											<p>
												Чтобы вывести цифры для производителей, скрипт должен вызвать 5 раз поиск по каждому из них.
											</p>
											<div class="t-template-compare__list">
												<div class="t-template-compare__item">
													Raspberry<span>(2)</span>
												</div>
												<div class="t-template-compare__item">
													Lenovo<span><(57)</span>
												</div>
												<div class="t-template-compare__item">
													Packard Bell<span>(1)</span>
												</div>
												<div class="t-template-compare__item">
													Rednox<span>(14)</span>
												</div>
												<div class="t-template-compare__item">
													Jet<span>(31)</span>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="col-lg-6 t-template-in animated_el m-bottom">
									<h3>Onliner который не смог</h3>
									<div class="t-template-compare">
										<img src="img/content/t-img-ttn13.png" alt="">
									</div>
								</div>
							</div>
						</div>
					</div>



					<div class="template animated_el m-bottom">
						<div class="indent">
							<div class="template-simple">

								<div class="template-simple__item">
									Бонусом ещё реализована система ярлыков, администратор для разных категорий готовит пре-сеты фильтра для быстрого подбора.
								</div>


								<div class="template-simple__item">
									<img src="img/content/template-ttn11.jpg" alt="">
								</div>
	
							</div>
							<div class="label-wrap">
								<div class="label-info">
									И ярылки для SEO-адресов
								</div>
								<div class="label-img">
									<img src="img/content/template-ttn12.jpg" alt="">
								</div>
							</div>
						</div>
					</div>

					<div class="plan animated_el m-bottom">
						<div class="indent">
							<h3>Отзыв клиента</h3>
							<div class="section-list m-slider">
								<div class="recommend-slider-wrap">
									<div class="recommend-slider">
										<div class="recommend-slider__item">
											<div class="recommend-slider__img">
												<img src="img/content/rev-test.png" alt="">
												<div class="recommend-slider__top">
													Владимир Бутко, Заместитель директора
												</div>
											</div>
											<div class="recommend-slider__info">
												<div class="recommend-slider__txt">
													Internal stakeholders are pleased with the website. Nineseven delivered a high-quality product within a short timeframe. Their flexible, collaborative approach set them apart from other providers.
												</div>
												<a href="#" class="clutch-btn">
													<span>Читать отзыв на</span> <img src="img/content/clutch-icon.png" alt="">
												</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="team animated_el m-bottom">
						<div class="indent">
							<h3>Команда проекта</h3>
							<div class="team__wrap">
								<div class="team__item">
									<div class="team__line">
										<div class="team__top">Руководитель проекта</div>
										<div class="team__person">Юра Иов</div>
										<div class="team__person">Дима Хоружко</div>
									</div>
								</div>
								<div class="team__item">
									<div class="team__line">
										<div class="team__top">PHP разработчик</div>
										<div class="team__person">Леша Никитин</div>
									</div>
								</div>
								<div class="team__item">
									<div class="team__line">
										<div class="team__top">Команда клиента</div>
										<div class="team__person">Владимир Бутко</div>
										<div class="team__person">Кристина Липская</div>
										<div class="team__person">Ольга Богданчик</div>
									</div>
								</div>
								<div class="team__item">
									<div class="team__line">
										<div class="team__top">Архитекторы</div>
										<div class="team__person">Дима Хоружко</div>
										<div class="team__person">Игорь Билиба</div>
									</div>
									<br><br>
									<div class="team__line">
										<div class="team__top">Ведущий разработчик</div>
										<div class="team__person">Игорь Билиба</div>
									</div>
								</div>
								<div class="team__item">
									<div class="team__line">
										<div class="team__top">Дизайн, UX</div>
										<div class="team__person">Сергей Шишпор</div>
										<div class="team__person">Дима Хоружко</div>
									</div>
									<br><br>
									<div class="team__line">
										<div class="team__top">Верстка</div>
										<div class="team__person">Павел Кряквин</div>
										<div class="team__person">Влад Портной</div>
									</div>
								</div>
							</div>
						</div>	
					</div>
					<!--end CONTENT-PART -->
				</div>
			</main>
		</div><!-- END LAYOUT-->
		//= template/footer.html
			
		

		<script src="js/libs/libs.min.js"></script>
		<script src="js/interface.js"></script>
		<!-- <script src="js/pages.js"></script> -->
	</body>
</html>
